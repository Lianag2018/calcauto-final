{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userData = await AsyncStorage.default.getItem('user_data');\n        if (token && userData) {\n          setUser(JSON.parse(userData));\n        }\n      } catch (error) {\n        console.error('Error checking auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        if (response.data.success) {\n          await AsyncStorage.default.setItem('auth_token', response.data.token);\n          await AsyncStorage.default.setItem('user_data', JSON.stringify(response.data.user));\n          setUser(response.data.user);\n          return {\n            success: true\n          };\n        } else {\n          return {\n            success: false,\n            error: response.data.error || 'Erreur de connexion'\n          };\n        }\n      } catch (error) {\n        console.error('Login error:', error);\n        return {\n          success: false,\n          error: error.response?.data?.error || 'Erreur de connexion. Vérifiez vos identifiants.'\n        };\n      }\n    };\n    const register = async (name, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          name,\n          email,\n          password\n        });\n        if (response.data.success) {\n          await AsyncStorage.default.setItem('auth_token', response.data.token);\n          await AsyncStorage.default.setItem('user_data', JSON.stringify(response.data.user));\n          setUser(response.data.user);\n          return {\n            success: true\n          };\n        } else {\n          return {\n            success: false,\n            error: response.data.error || 'Erreur d\\'inscription'\n          };\n        }\n      } catch (error) {\n        console.error('Register error:', error);\n        return {\n          success: false,\n          error: error.response?.data?.error || 'Erreur d\\'inscription. Veuillez réessayer.'\n        };\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":141,"map":[[15,2,24,0,"exports"],[15,9,24,0],[15,10,24,0,"AuthProvider"],[15,22,24,0],[15,25,24,0,"AuthProvider"],[15,37,24,0],[16,2,120,0,"exports"],[16,9,120,0],[16,10,120,0,"useAuth"],[16,17,120,0],[16,20,120,0,"useAuth"],[16,27,120,0],[17,2,126,1],[17,6,126,1,"_expoVirtualEnv"],[17,21,126,1],[17,24,126,1,"require"],[17,31,126,1],[17,32,126,1,"_dependencyMap"],[17,46,126,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,16,"_expoVirtualEnv"],[24,33,5,16],[24,34,5,16,"env"],[24,37,5,16],[24,38,5,16,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,16],[24,65,5,55],[24,88,5,78],[25,2,22,0],[25,8,22,6,"AuthContext"],[25,19,22,17],[25,35,22,20],[25,39,22,20,"createContext"],[25,45,22,33],[25,46,22,33,"createContext"],[25,59,22,33],[25,61,22,63,"undefined"],[25,70,22,72],[25,71,22,73],[26,2,24,7],[26,11,24,16,"AuthProvider"],[26,23,24,28,"AuthProvider"],[26,24,24,29],[27,4,24,31,"children"],[28,2,24,65],[28,3,24,66],[28,5,24,68],[29,4,24,68,"_s"],[29,6,24,68],[30,4,25,2],[30,10,25,8],[30,11,25,9,"user"],[30,15,25,13],[30,17,25,15,"setUser"],[30,24,25,22],[30,25,25,23],[30,28,25,26],[30,32,25,26,"useState"],[30,38,25,34],[30,39,25,34,"useState"],[30,47,25,34],[30,49,25,48],[30,53,25,52],[30,54,25,53],[31,4,26,2],[31,10,26,8],[31,11,26,9,"isLoading"],[31,20,26,18],[31,22,26,20,"setIsLoading"],[31,34,26,32],[31,35,26,33],[31,38,26,36],[31,42,26,36,"useState"],[31,48,26,44],[31,49,26,44,"useState"],[31,57,26,44],[31,59,26,45],[31,63,26,49],[31,64,26,50],[32,4,28,2],[32,8,28,2,"useEffect"],[32,14,28,11],[32,15,28,11,"useEffect"],[32,24,28,11],[32,26,28,12],[32,32,28,18],[33,6,29,4,"checkAuth"],[33,15,29,13],[33,16,29,14],[33,17,29,15],[34,4,30,2],[34,5,30,3],[34,7,30,5],[34,9,30,7],[34,10,30,8],[35,4,32,2],[35,10,32,8,"checkAuth"],[35,19,32,17],[35,22,32,20],[35,28,32,20,"checkAuth"],[35,29,32,20],[35,34,32,32],[36,6,33,4],[36,10,33,8],[37,8,34,6],[37,14,34,12,"token"],[37,19,34,17],[37,22,34,20],[37,28,34,26,"AsyncStorage"],[37,40,34,38],[37,41,34,38,"default"],[37,48,34,38],[37,49,34,39,"getItem"],[37,56,34,46],[37,57,34,47],[37,69,34,59],[37,70,34,60],[38,8,35,6],[38,14,35,12,"userData"],[38,22,35,20],[38,25,35,23],[38,31,35,29,"AsyncStorage"],[38,43,35,41],[38,44,35,41,"default"],[38,51,35,41],[38,52,35,42,"getItem"],[38,59,35,49],[38,60,35,50],[38,71,35,61],[38,72,35,62],[39,8,37,6],[39,12,37,10,"token"],[39,17,37,15],[39,21,37,19,"userData"],[39,29,37,27],[39,31,37,29],[40,10,38,8,"setUser"],[40,17,38,15],[40,18,38,16,"JSON"],[40,22,38,20],[40,23,38,21,"parse"],[40,28,38,26],[40,29,38,27,"userData"],[40,37,38,35],[40,38,38,36],[40,39,38,37],[41,8,39,6],[42,6,40,4],[42,7,40,5],[42,8,40,6],[42,15,40,13,"error"],[42,20,40,18],[42,22,40,20],[43,8,41,6,"console"],[43,15,41,13],[43,16,41,14,"error"],[43,21,41,19],[43,22,41,20],[43,44,41,42],[43,46,41,44,"error"],[43,51,41,49],[43,52,41,50],[44,6,42,4],[44,7,42,5],[44,16,42,14],[45,8,43,6,"setIsLoading"],[45,20,43,18],[45,21,43,19],[45,26,43,24],[45,27,43,25],[46,6,44,4],[47,4,45,2],[47,5,45,3],[48,4,47,2],[48,10,47,8,"login"],[48,15,47,13],[48,18,47,16],[48,24,47,16,"login"],[48,25,47,23,"email"],[48,30,47,36],[48,32,47,38,"password"],[48,40,47,54],[48,45,47,106],[49,6,48,4],[49,10,48,8],[50,8,49,6],[50,14,49,12,"response"],[50,22,49,20],[50,25,49,23],[50,31,49,29,"axios"],[50,36,49,34],[50,37,49,34,"default"],[50,44,49,34],[50,45,49,35,"post"],[50,49,49,39],[50,50,49,40],[50,53,49,43,"API_URL"],[50,60,49,50],[50,77,49,67],[50,79,49,69],[51,10,50,8,"email"],[51,15,50,13],[52,10,51,8,"password"],[53,8,52,6],[53,9,52,7],[53,10,52,8],[54,8,54,6],[54,12,54,10,"response"],[54,20,54,18],[54,21,54,19,"data"],[54,25,54,23],[54,26,54,24,"success"],[54,33,54,31],[54,35,54,33],[55,10,55,8],[55,16,55,14,"AsyncStorage"],[55,28,55,26],[55,29,55,26,"default"],[55,36,55,26],[55,37,55,27,"setItem"],[55,44,55,34],[55,45,55,35],[55,57,55,47],[55,59,55,49,"response"],[55,67,55,57],[55,68,55,58,"data"],[55,72,55,62],[55,73,55,63,"token"],[55,78,55,68],[55,79,55,69],[56,10,56,8],[56,16,56,14,"AsyncStorage"],[56,28,56,26],[56,29,56,26,"default"],[56,36,56,26],[56,37,56,27,"setItem"],[56,44,56,34],[56,45,56,35],[56,56,56,46],[56,58,56,48,"JSON"],[56,62,56,52],[56,63,56,53,"stringify"],[56,72,56,62],[56,73,56,63,"response"],[56,81,56,71],[56,82,56,72,"data"],[56,86,56,76],[56,87,56,77,"user"],[56,91,56,81],[56,92,56,82],[56,93,56,83],[57,10,57,8,"setUser"],[57,17,57,15],[57,18,57,16,"response"],[57,26,57,24],[57,27,57,25,"data"],[57,31,57,29],[57,32,57,30,"user"],[57,36,57,34],[57,37,57,35],[58,10,58,8],[58,17,58,15],[59,12,58,17,"success"],[59,19,58,24],[59,21,58,26],[60,10,58,31],[60,11,58,32],[61,8,59,6],[61,9,59,7],[61,15,59,13],[62,10,60,8],[62,17,60,15],[63,12,60,17,"success"],[63,19,60,24],[63,21,60,26],[63,26,60,31],[64,12,60,33,"error"],[64,17,60,38],[64,19,60,40,"response"],[64,27,60,48],[64,28,60,49,"data"],[64,32,60,53],[64,33,60,54,"error"],[64,38,60,59],[64,42,60,63],[65,10,60,85],[65,11,60,86],[66,8,61,6],[67,6,62,4],[67,7,62,5],[67,8,62,6],[67,15,62,13,"error"],[67,20,62,23],[67,22,62,25],[68,8,63,6,"console"],[68,15,63,13],[68,16,63,14,"error"],[68,21,63,19],[68,22,63,20],[68,36,63,34],[68,38,63,36,"error"],[68,43,63,41],[68,44,63,42],[69,8,64,6],[69,15,64,13],[70,10,65,8,"success"],[70,17,65,15],[70,19,65,17],[70,24,65,22],[71,10,66,8,"error"],[71,15,66,13],[71,17,66,15,"error"],[71,22,66,20],[71,23,66,21,"response"],[71,31,66,29],[71,33,66,31,"data"],[71,37,66,35],[71,39,66,37,"error"],[71,44,66,42],[71,48,66,46],[72,8,67,6],[72,9,67,7],[73,6,68,4],[74,4,69,2],[74,5,69,3],[75,4,71,2],[75,10,71,8,"register"],[75,18,71,16],[75,21,71,19],[75,27,71,19,"register"],[75,28,71,26,"name"],[75,32,71,38],[75,34,71,40,"email"],[75,39,71,53],[75,41,71,55,"password"],[75,49,71,71],[75,54,71,123],[76,6,72,4],[76,10,72,8],[77,8,73,6],[77,14,73,12,"response"],[77,22,73,20],[77,25,73,23],[77,31,73,29,"axios"],[77,36,73,34],[77,37,73,34,"default"],[77,44,73,34],[77,45,73,35,"post"],[77,49,73,39],[77,50,73,40],[77,53,73,43,"API_URL"],[77,60,73,50],[77,80,73,70],[77,82,73,72],[78,10,74,8,"name"],[78,14,74,12],[79,10,75,8,"email"],[79,15,75,13],[80,10,76,8,"password"],[81,8,77,6],[81,9,77,7],[81,10,77,8],[82,8,79,6],[82,12,79,10,"response"],[82,20,79,18],[82,21,79,19,"data"],[82,25,79,23],[82,26,79,24,"success"],[82,33,79,31],[82,35,79,33],[83,10,80,8],[83,16,80,14,"AsyncStorage"],[83,28,80,26],[83,29,80,26,"default"],[83,36,80,26],[83,37,80,27,"setItem"],[83,44,80,34],[83,45,80,35],[83,57,80,47],[83,59,80,49,"response"],[83,67,80,57],[83,68,80,58,"data"],[83,72,80,62],[83,73,80,63,"token"],[83,78,80,68],[83,79,80,69],[84,10,81,8],[84,16,81,14,"AsyncStorage"],[84,28,81,26],[84,29,81,26,"default"],[84,36,81,26],[84,37,81,27,"setItem"],[84,44,81,34],[84,45,81,35],[84,56,81,46],[84,58,81,48,"JSON"],[84,62,81,52],[84,63,81,53,"stringify"],[84,72,81,62],[84,73,81,63,"response"],[84,81,81,71],[84,82,81,72,"data"],[84,86,81,76],[84,87,81,77,"user"],[84,91,81,81],[84,92,81,82],[84,93,81,83],[85,10,82,8,"setUser"],[85,17,82,15],[85,18,82,16,"response"],[85,26,82,24],[85,27,82,25,"data"],[85,31,82,29],[85,32,82,30,"user"],[85,36,82,34],[85,37,82,35],[86,10,83,8],[86,17,83,15],[87,12,83,17,"success"],[87,19,83,24],[87,21,83,26],[88,10,83,31],[88,11,83,32],[89,8,84,6],[89,9,84,7],[89,15,84,13],[90,10,85,8],[90,17,85,15],[91,12,85,17,"success"],[91,19,85,24],[91,21,85,26],[91,26,85,31],[92,12,85,33,"error"],[92,17,85,38],[92,19,85,40,"response"],[92,27,85,48],[92,28,85,49,"data"],[92,32,85,53],[92,33,85,54,"error"],[92,38,85,59],[92,42,85,63],[93,10,85,87],[93,11,85,88],[94,8,86,6],[95,6,87,4],[95,7,87,5],[95,8,87,6],[95,15,87,13,"error"],[95,20,87,23],[95,22,87,25],[96,8,88,6,"console"],[96,15,88,13],[96,16,88,14,"error"],[96,21,88,19],[96,22,88,20],[96,39,88,37],[96,41,88,39,"error"],[96,46,88,44],[96,47,88,45],[97,8,89,6],[97,15,89,13],[98,10,90,8,"success"],[98,17,90,15],[98,19,90,17],[98,24,90,22],[99,10,91,8,"error"],[99,15,91,13],[99,17,91,15,"error"],[99,22,91,20],[99,23,91,21,"response"],[99,31,91,29],[99,33,91,31,"data"],[99,37,91,35],[99,39,91,37,"error"],[99,44,91,42],[99,48,91,46],[100,8,92,6],[100,9,92,7],[101,6,93,4],[102,4,94,2],[102,5,94,3],[103,4,96,2],[103,10,96,8,"logout"],[103,16,96,14],[103,19,96,17],[103,25,96,17,"logout"],[103,26,96,17],[103,31,96,29],[104,6,97,4],[104,10,97,8],[105,8,98,6],[105,14,98,12,"AsyncStorage"],[105,26,98,24],[105,27,98,24,"default"],[105,34,98,24],[105,35,98,25,"removeItem"],[105,45,98,35],[105,46,98,36],[105,58,98,48],[105,59,98,49],[106,8,99,6],[106,14,99,12,"AsyncStorage"],[106,26,99,24],[106,27,99,24,"default"],[106,34,99,24],[106,35,99,25,"removeItem"],[106,45,99,35],[106,46,99,36],[106,57,99,47],[106,58,99,48],[107,8,100,6,"setUser"],[107,15,100,13],[107,16,100,14],[107,20,100,18],[107,21,100,19],[108,6,101,4],[108,7,101,5],[108,8,101,6],[108,15,101,13,"error"],[108,20,101,18],[108,22,101,20],[109,8,102,6,"console"],[109,15,102,13],[109,16,102,14,"error"],[109,21,102,19],[109,22,102,20],[109,37,102,35],[109,39,102,37,"error"],[109,44,102,42],[109,45,102,43],[110,6,103,4],[111,4,104,2],[111,5,104,3],[112,4,106,2],[112,24,107,4],[112,28,107,4,"_reactJsxDevRuntime"],[112,47,107,4],[112,48,107,4,"jsxDEV"],[112,54,107,4],[112,56,107,5,"AuthContext"],[112,67,107,16],[112,68,107,17,"Provider"],[112,76,107,25],[113,6,107,26,"value"],[113,11,107,31],[113,13,107,33],[114,8,108,6,"user"],[114,12,108,10],[115,8,109,6,"isLoading"],[115,17,109,15],[116,8,110,6,"isAuthenticated"],[116,23,110,21],[116,25,110,23],[116,26,110,24],[116,27,110,25,"user"],[116,31,110,29],[117,8,111,6,"login"],[117,13,111,11],[118,8,112,6,"register"],[118,16,112,14],[119,8,113,6,"logout"],[120,6,114,4],[120,7,114,6],[121,6,114,6,"children"],[121,14,114,6],[121,16,115,7,"children"],[122,4,115,15],[123,6,115,15,"fileName"],[123,14,115,15],[123,16,115,15,"_jsxFileName"],[123,28,115,15],[124,6,115,15,"lineNumber"],[124,16,115,15],[125,6,115,15,"columnNumber"],[125,18,115,15],[126,4,115,15],[126,11,116,26],[126,12,116,27],[127,2,118,0],[128,2,118,1,"_s"],[128,4,118,1],[128,5,24,16,"AuthProvider"],[128,17,24,28],[129,2,24,28,"_c"],[129,4,24,28],[129,7,24,16,"AuthProvider"],[129,19,24,28],[130,2,120,7],[130,11,120,16,"useAuth"],[130,18,120,23,"useAuth"],[130,19,120,23],[130,21,120,26],[131,4,120,26,"_s2"],[131,7,120,26],[132,4,121,2],[132,10,121,8,"context"],[132,17,121,15],[132,20,121,18],[132,24,121,18,"useContext"],[132,30,121,28],[132,31,121,28,"useContext"],[132,41,121,28],[132,43,121,29,"AuthContext"],[132,54,121,40],[132,55,121,41],[133,4,122,2],[133,8,122,6,"context"],[133,15,122,13],[133,20,122,18,"undefined"],[133,29,122,27],[133,31,122,29],[134,6,123,4],[134,12,123,10],[134,16,123,14,"Error"],[134,21,123,19],[134,22,123,20],[134,67,123,65],[134,68,123,66],[135,4,124,2],[136,4,125,2],[136,11,125,9,"context"],[136,18,125,16],[137,2,126,0],[138,2,126,1,"_s2"],[138,5,126,1],[138,6,120,16,"useAuth"],[138,13,120,23],[139,2,120,23],[139,6,120,23,"_c"],[139,8,120,23],[140,2,120,23,"$RefreshReg$"],[140,14,120,23],[140,15,120,23,"_c"],[140,17,120,23],[141,0,120,23],[141,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;OCuB;YCI;GDE;oBEE;GFa;gBGE;GHsB;mBIE;GJuB;iBKE;GLQ;CDc;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}