{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userData = await AsyncStorage.default.getItem('user_data');\n        if (token && userData) {\n          setUser(JSON.parse(userData));\n        }\n      } catch (error) {\n        console.error('Error checking auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        if (response.data.success) {\n          await AsyncStorage.default.setItem('auth_token', response.data.token);\n          await AsyncStorage.default.setItem('user_data', JSON.stringify(response.data.user));\n          setUser(response.data.user);\n          return {\n            success: true\n          };\n        } else {\n          return {\n            success: false,\n            error: response.data.error || 'Erreur de connexion'\n          };\n        }\n      } catch (error) {\n        console.error('Login error:', error);\n        return {\n          success: false,\n          error: error.response?.data?.error || 'Erreur de connexion. Vérifiez vos identifiants.'\n        };\n      }\n    };\n    const register = async (name, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          name,\n          email,\n          password\n        });\n        if (response.data.success) {\n          await AsyncStorage.default.setItem('auth_token', response.data.token);\n          await AsyncStorage.default.setItem('user_data', JSON.stringify(response.data.user));\n          setUser(response.data.user);\n          return {\n            success: true\n          };\n        } else {\n          return {\n            success: false,\n            error: response.data.error || 'Erreur d\\'inscription'\n          };\n        }\n      } catch (error) {\n        console.error('Register error:', error);\n        return {\n          success: false,\n          error: error.response?.data?.error || 'Erreur d\\'inscription. Veuillez réessayer.'\n        };\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":131,"map":[[13,2,24,0,"exports"],[13,9,24,0],[13,10,24,0,"AuthProvider"],[13,22,24,0],[13,25,24,0,"AuthProvider"],[13,37,24,0],[14,2,120,0,"exports"],[14,9,120,0],[14,10,120,0,"useAuth"],[14,17,120,0],[14,20,120,0,"useAuth"],[14,27,120,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_axios"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,0],[19,6,3,0,"axios"],[19,11,3,0],[19,14,3,0,"_interopDefault"],[19,29,3,0],[19,30,3,0,"_axios"],[19,36,3,0],[20,2,3,26],[20,6,3,26,"_reactJsxDevRuntime"],[20,25,3,26],[20,28,3,26,"require"],[20,35,3,26],[20,36,3,26,"_dependencyMap"],[20,50,3,26],[21,2,5,0],[21,8,5,6,"API_URL"],[21,15,5,13],[21,18,5,16,"process"],[21,25,5,23],[21,26,5,24,"env"],[21,29,5,27],[21,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[21,53,5,51],[21,57,5,55],[21,80,5,78],[22,2,22,0],[22,8,22,6,"AuthContext"],[22,19,22,17],[22,35,22,20],[22,39,22,20,"createContext"],[22,45,22,33],[22,46,22,33,"createContext"],[22,59,22,33],[22,61,22,63,"undefined"],[22,70,22,72],[22,71,22,73],[23,2,24,7],[23,11,24,16,"AuthProvider"],[23,23,24,28,"AuthProvider"],[23,24,24,29],[24,4,24,31,"children"],[25,2,24,65],[25,3,24,66],[25,5,24,68],[26,4,25,2],[26,10,25,8],[26,11,25,9,"user"],[26,15,25,13],[26,17,25,15,"setUser"],[26,24,25,22],[26,25,25,23],[26,28,25,26],[26,32,25,26,"useState"],[26,38,25,34],[26,39,25,34,"useState"],[26,47,25,34],[26,49,25,48],[26,53,25,52],[26,54,25,53],[27,4,26,2],[27,10,26,8],[27,11,26,9,"isLoading"],[27,20,26,18],[27,22,26,20,"setIsLoading"],[27,34,26,32],[27,35,26,33],[27,38,26,36],[27,42,26,36,"useState"],[27,48,26,44],[27,49,26,44,"useState"],[27,57,26,44],[27,59,26,45],[27,63,26,49],[27,64,26,50],[28,4,28,2],[28,8,28,2,"useEffect"],[28,14,28,11],[28,15,28,11,"useEffect"],[28,24,28,11],[28,26,28,12],[28,32,28,18],[29,6,29,4,"checkAuth"],[29,15,29,13],[29,16,29,14],[29,17,29,15],[30,4,30,2],[30,5,30,3],[30,7,30,5],[30,9,30,7],[30,10,30,8],[31,4,32,2],[31,10,32,8,"checkAuth"],[31,19,32,17],[31,22,32,20],[31,28,32,20,"checkAuth"],[31,29,32,20],[31,34,32,32],[32,6,33,4],[32,10,33,8],[33,8,34,6],[33,14,34,12,"token"],[33,19,34,17],[33,22,34,20],[33,28,34,26,"AsyncStorage"],[33,40,34,38],[33,41,34,38,"default"],[33,48,34,38],[33,49,34,39,"getItem"],[33,56,34,46],[33,57,34,47],[33,69,34,59],[33,70,34,60],[34,8,35,6],[34,14,35,12,"userData"],[34,22,35,20],[34,25,35,23],[34,31,35,29,"AsyncStorage"],[34,43,35,41],[34,44,35,41,"default"],[34,51,35,41],[34,52,35,42,"getItem"],[34,59,35,49],[34,60,35,50],[34,71,35,61],[34,72,35,62],[35,8,37,6],[35,12,37,10,"token"],[35,17,37,15],[35,21,37,19,"userData"],[35,29,37,27],[35,31,37,29],[36,10,38,8,"setUser"],[36,17,38,15],[36,18,38,16,"JSON"],[36,22,38,20],[36,23,38,21,"parse"],[36,28,38,26],[36,29,38,27,"userData"],[36,37,38,35],[36,38,38,36],[36,39,38,37],[37,8,39,6],[38,6,40,4],[38,7,40,5],[38,8,40,6],[38,15,40,13,"error"],[38,20,40,18],[38,22,40,20],[39,8,41,6,"console"],[39,15,41,13],[39,16,41,14,"error"],[39,21,41,19],[39,22,41,20],[39,44,41,42],[39,46,41,44,"error"],[39,51,41,49],[39,52,41,50],[40,6,42,4],[40,7,42,5],[40,16,42,14],[41,8,43,6,"setIsLoading"],[41,20,43,18],[41,21,43,19],[41,26,43,24],[41,27,43,25],[42,6,44,4],[43,4,45,2],[43,5,45,3],[44,4,47,2],[44,10,47,8,"login"],[44,15,47,13],[44,18,47,16],[44,24,47,16,"login"],[44,25,47,23,"email"],[44,30,47,36],[44,32,47,38,"password"],[44,40,47,54],[44,45,47,106],[45,6,48,4],[45,10,48,8],[46,8,49,6],[46,14,49,12,"response"],[46,22,49,20],[46,25,49,23],[46,31,49,29,"axios"],[46,36,49,34],[46,37,49,34,"default"],[46,44,49,34],[46,45,49,35,"post"],[46,49,49,39],[46,50,49,40],[46,53,49,43,"API_URL"],[46,60,49,50],[46,77,49,67],[46,79,49,69],[47,10,50,8,"email"],[47,15,50,13],[48,10,51,8,"password"],[49,8,52,6],[49,9,52,7],[49,10,52,8],[50,8,54,6],[50,12,54,10,"response"],[50,20,54,18],[50,21,54,19,"data"],[50,25,54,23],[50,26,54,24,"success"],[50,33,54,31],[50,35,54,33],[51,10,55,8],[51,16,55,14,"AsyncStorage"],[51,28,55,26],[51,29,55,26,"default"],[51,36,55,26],[51,37,55,27,"setItem"],[51,44,55,34],[51,45,55,35],[51,57,55,47],[51,59,55,49,"response"],[51,67,55,57],[51,68,55,58,"data"],[51,72,55,62],[51,73,55,63,"token"],[51,78,55,68],[51,79,55,69],[52,10,56,8],[52,16,56,14,"AsyncStorage"],[52,28,56,26],[52,29,56,26,"default"],[52,36,56,26],[52,37,56,27,"setItem"],[52,44,56,34],[52,45,56,35],[52,56,56,46],[52,58,56,48,"JSON"],[52,62,56,52],[52,63,56,53,"stringify"],[52,72,56,62],[52,73,56,63,"response"],[52,81,56,71],[52,82,56,72,"data"],[52,86,56,76],[52,87,56,77,"user"],[52,91,56,81],[52,92,56,82],[52,93,56,83],[53,10,57,8,"setUser"],[53,17,57,15],[53,18,57,16,"response"],[53,26,57,24],[53,27,57,25,"data"],[53,31,57,29],[53,32,57,30,"user"],[53,36,57,34],[53,37,57,35],[54,10,58,8],[54,17,58,15],[55,12,58,17,"success"],[55,19,58,24],[55,21,58,26],[56,10,58,31],[56,11,58,32],[57,8,59,6],[57,9,59,7],[57,15,59,13],[58,10,60,8],[58,17,60,15],[59,12,60,17,"success"],[59,19,60,24],[59,21,60,26],[59,26,60,31],[60,12,60,33,"error"],[60,17,60,38],[60,19,60,40,"response"],[60,27,60,48],[60,28,60,49,"data"],[60,32,60,53],[60,33,60,54,"error"],[60,38,60,59],[60,42,60,63],[61,10,60,85],[61,11,60,86],[62,8,61,6],[63,6,62,4],[63,7,62,5],[63,8,62,6],[63,15,62,13,"error"],[63,20,62,23],[63,22,62,25],[64,8,63,6,"console"],[64,15,63,13],[64,16,63,14,"error"],[64,21,63,19],[64,22,63,20],[64,36,63,34],[64,38,63,36,"error"],[64,43,63,41],[64,44,63,42],[65,8,64,6],[65,15,64,13],[66,10,65,8,"success"],[66,17,65,15],[66,19,65,17],[66,24,65,22],[67,10,66,8,"error"],[67,15,66,13],[67,17,66,15,"error"],[67,22,66,20],[67,23,66,21,"response"],[67,31,66,29],[67,33,66,31,"data"],[67,37,66,35],[67,39,66,37,"error"],[67,44,66,42],[67,48,66,46],[68,8,67,6],[68,9,67,7],[69,6,68,4],[70,4,69,2],[70,5,69,3],[71,4,71,2],[71,10,71,8,"register"],[71,18,71,16],[71,21,71,19],[71,27,71,19,"register"],[71,28,71,26,"name"],[71,32,71,38],[71,34,71,40,"email"],[71,39,71,53],[71,41,71,55,"password"],[71,49,71,71],[71,54,71,123],[72,6,72,4],[72,10,72,8],[73,8,73,6],[73,14,73,12,"response"],[73,22,73,20],[73,25,73,23],[73,31,73,29,"axios"],[73,36,73,34],[73,37,73,34,"default"],[73,44,73,34],[73,45,73,35,"post"],[73,49,73,39],[73,50,73,40],[73,53,73,43,"API_URL"],[73,60,73,50],[73,80,73,70],[73,82,73,72],[74,10,74,8,"name"],[74,14,74,12],[75,10,75,8,"email"],[75,15,75,13],[76,10,76,8,"password"],[77,8,77,6],[77,9,77,7],[77,10,77,8],[78,8,79,6],[78,12,79,10,"response"],[78,20,79,18],[78,21,79,19,"data"],[78,25,79,23],[78,26,79,24,"success"],[78,33,79,31],[78,35,79,33],[79,10,80,8],[79,16,80,14,"AsyncStorage"],[79,28,80,26],[79,29,80,26,"default"],[79,36,80,26],[79,37,80,27,"setItem"],[79,44,80,34],[79,45,80,35],[79,57,80,47],[79,59,80,49,"response"],[79,67,80,57],[79,68,80,58,"data"],[79,72,80,62],[79,73,80,63,"token"],[79,78,80,68],[79,79,80,69],[80,10,81,8],[80,16,81,14,"AsyncStorage"],[80,28,81,26],[80,29,81,26,"default"],[80,36,81,26],[80,37,81,27,"setItem"],[80,44,81,34],[80,45,81,35],[80,56,81,46],[80,58,81,48,"JSON"],[80,62,81,52],[80,63,81,53,"stringify"],[80,72,81,62],[80,73,81,63,"response"],[80,81,81,71],[80,82,81,72,"data"],[80,86,81,76],[80,87,81,77,"user"],[80,91,81,81],[80,92,81,82],[80,93,81,83],[81,10,82,8,"setUser"],[81,17,82,15],[81,18,82,16,"response"],[81,26,82,24],[81,27,82,25,"data"],[81,31,82,29],[81,32,82,30,"user"],[81,36,82,34],[81,37,82,35],[82,10,83,8],[82,17,83,15],[83,12,83,17,"success"],[83,19,83,24],[83,21,83,26],[84,10,83,31],[84,11,83,32],[85,8,84,6],[85,9,84,7],[85,15,84,13],[86,10,85,8],[86,17,85,15],[87,12,85,17,"success"],[87,19,85,24],[87,21,85,26],[87,26,85,31],[88,12,85,33,"error"],[88,17,85,38],[88,19,85,40,"response"],[88,27,85,48],[88,28,85,49,"data"],[88,32,85,53],[88,33,85,54,"error"],[88,38,85,59],[88,42,85,63],[89,10,85,87],[89,11,85,88],[90,8,86,6],[91,6,87,4],[91,7,87,5],[91,8,87,6],[91,15,87,13,"error"],[91,20,87,23],[91,22,87,25],[92,8,88,6,"console"],[92,15,88,13],[92,16,88,14,"error"],[92,21,88,19],[92,22,88,20],[92,39,88,37],[92,41,88,39,"error"],[92,46,88,44],[92,47,88,45],[93,8,89,6],[93,15,89,13],[94,10,90,8,"success"],[94,17,90,15],[94,19,90,17],[94,24,90,22],[95,10,91,8,"error"],[95,15,91,13],[95,17,91,15,"error"],[95,22,91,20],[95,23,91,21,"response"],[95,31,91,29],[95,33,91,31,"data"],[95,37,91,35],[95,39,91,37,"error"],[95,44,91,42],[95,48,91,46],[96,8,92,6],[96,9,92,7],[97,6,93,4],[98,4,94,2],[98,5,94,3],[99,4,96,2],[99,10,96,8,"logout"],[99,16,96,14],[99,19,96,17],[99,25,96,17,"logout"],[99,26,96,17],[99,31,96,29],[100,6,97,4],[100,10,97,8],[101,8,98,6],[101,14,98,12,"AsyncStorage"],[101,26,98,24],[101,27,98,24,"default"],[101,34,98,24],[101,35,98,25,"removeItem"],[101,45,98,35],[101,46,98,36],[101,58,98,48],[101,59,98,49],[102,8,99,6],[102,14,99,12,"AsyncStorage"],[102,26,99,24],[102,27,99,24,"default"],[102,34,99,24],[102,35,99,25,"removeItem"],[102,45,99,35],[102,46,99,36],[102,57,99,47],[102,58,99,48],[103,8,100,6,"setUser"],[103,15,100,13],[103,16,100,14],[103,20,100,18],[103,21,100,19],[104,6,101,4],[104,7,101,5],[104,8,101,6],[104,15,101,13,"error"],[104,20,101,18],[104,22,101,20],[105,8,102,6,"console"],[105,15,102,13],[105,16,102,14,"error"],[105,21,102,19],[105,22,102,20],[105,37,102,35],[105,39,102,37,"error"],[105,44,102,42],[105,45,102,43],[106,6,103,4],[107,4,104,2],[107,5,104,3],[108,4,106,2],[108,24,107,4],[108,28,107,4,"_reactJsxDevRuntime"],[108,47,107,4],[108,48,107,4,"jsxDEV"],[108,54,107,4],[108,56,107,5,"AuthContext"],[108,67,107,16],[108,68,107,17,"Provider"],[108,76,107,25],[109,6,107,26,"value"],[109,11,107,31],[109,13,107,33],[110,8,108,6,"user"],[110,12,108,10],[111,8,109,6,"isLoading"],[111,17,109,15],[112,8,110,6,"isAuthenticated"],[112,23,110,21],[112,25,110,23],[112,26,110,24],[112,27,110,25,"user"],[112,31,110,29],[113,8,111,6,"login"],[113,13,111,11],[114,8,112,6,"register"],[114,16,112,14],[115,8,113,6,"logout"],[116,6,114,4],[116,7,114,6],[117,6,114,6,"children"],[117,14,114,6],[117,16,115,7,"children"],[118,4,115,15],[119,6,115,15,"fileName"],[119,14,115,15],[119,16,115,15,"_jsxFileName"],[119,28,115,15],[120,6,115,15,"lineNumber"],[120,16,115,15],[121,6,115,15,"columnNumber"],[121,18,115,15],[122,4,115,15],[122,11,116,26],[122,12,116,27],[123,2,118,0],[124,2,120,7],[124,11,120,16,"useAuth"],[124,18,120,23,"useAuth"],[124,19,120,23],[124,21,120,26],[125,4,121,2],[125,10,121,8,"context"],[125,17,121,15],[125,20,121,18],[125,24,121,18,"useContext"],[125,30,121,28],[125,31,121,28,"useContext"],[125,41,121,28],[125,43,121,29,"AuthContext"],[125,54,121,40],[125,55,121,41],[126,4,122,2],[126,8,122,6,"context"],[126,15,122,13],[126,20,122,18,"undefined"],[126,29,122,27],[126,31,122,29],[127,6,123,4],[127,12,123,10],[127,16,123,14,"Error"],[127,21,123,19],[127,22,123,20],[127,67,123,65],[127,68,123,66],[128,4,124,2],[129,4,125,2],[129,11,125,9,"context"],[129,18,125,16],[130,2,126,0],[131,0,126,1],[131,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;OCuB;YCI;GDE;oBEE;GFa;gBGE;GHsB;mBIE;GJuB;iBKE;GLQ;CDc;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}