{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function({children:e}){const[l,h]=(0,t.useState)(null),[w,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await u.getItem('auth_token'),t=await u.getItem('user_data');if(e&&t)try{await o.default.get(`${n}/api/contacts`,{headers:{Authorization:`Bearer ${e}`}}),h(JSON.parse(t))}catch(e){console.log('Token invalid, clearing session'),await u.removeItem('auth_token'),await u.removeItem('user_data'),h(null)}}catch(e){console.error('Error checking auth:',e)}finally{p(!1)}};return(0,s.jsx)(c.Provider,{value:{user:l,isLoading:w,isAuthenticated:!!l,login:async(e,t)=>{try{const s=await o.default.post(`${n}/api/auth/login`,{email:e.toLowerCase().trim(),password:t});return s.data.success?(await u.setItem('auth_token',s.data.token),await u.setItem('user_data',JSON.stringify(s.data.user)),h(s.data.user),{success:!0}):{success:!1,error:s.data.error||'Erreur de connexion'}}catch(e){return console.error('Login error:',e),{success:!1,error:e.response?.data?.detail||e.response?.data?.error||'Email ou mot de passe incorrect'}}},register:async(e,t,s)=>{try{const c=await o.default.post(`${n}/api/auth/register`,{name:e.trim(),email:t.toLowerCase().trim(),password:s});return c.data.success?(await u.setItem('auth_token',c.data.token),await u.setItem('user_data',JSON.stringify(c.data.user)),h(c.data.user),{success:!0}):{success:!1,error:c.data.error||'Erreur d\\'inscription'}}catch(e){return console.error('Register error:',e),{success:!1,error:e.response?.data?.detail||e.response?.data?.error||'Erreur d\\'inscription'}}},logout:async()=>{try{await u.removeItem('auth_token'),await u.removeItem('user_data'),h(null)}catch(e){console.error('Logout error:',e)}},getToken:async()=>await u.getItem('auth_token')},children:e})},_e.useAuth=function(){const e=(0,t.useContext)(c);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var t=r(d[0]),o=(e(r(d[1])),e(r(d[2])));r(d[3]);var s=r(d[4]);const n=\"https://auto-loan-pro.preview.emergentagent.com\",c=(0,t.createContext)(void 0),u={getItem:async e=>localStorage.getItem(e),async setItem(e,t){localStorage.setItem(e,t)},async removeItem(e){localStorage.removeItem(e)}}});","lineCount":1,"map":[[1,143,53,0,"_e"],[1,146,53,0,"AuthProvider"],[1,159,53,7],[1,169,53,29,"children"],[1,178,53,31,"children"],[1,182,54,2],[1,188,54,9,"user"],[1,190,54,15,"setUser"],[1,194,54,26],[1,196,54,26,"useState"],[1,198,54,34,"useState"],[1,208,54,48],[1,215,55,9,"isLoading"],[1,217,55,20,"setIsLoading"],[1,221,55,36],[1,223,55,36,"useState"],[1,225,55,44,"useState"],[1,236,55,45],[1,240,57,2],[1,242,57,2,"useEffect"],[1,244,57,11,"useEffect"],[1,255,57,12],[1,260,58,4,"checkAuth"],[1,265,59,5],[1,269,61,2],[1,275,61,8,"checkAuth"],[1,277,61,20,"async"],[1,287,62,4],[1,291,63,6],[1,297,63,12,"token"],[1,305,63,26,"storage"],[1,307,63,34,"getItem"],[1,315,63,42],[1,329,64,12,"userData"],[1,337,64,29,"storage"],[1,339,64,37,"getItem"],[1,347,64,45],[1,360,66,6],[1,363,66,10,"token"],[1,366,66,19,"userData"],[1,368,68,8],[1,378,69,16,"axios"],[1,380,69,21,"default"],[1,388,69,22,"get"],[1,392,69,26],[1,395,69,29,"API_URL"],[1,412,69,53],[1,413,70,12,"headers"],[1,421,70,21],[1,422,70,23,"Authorization"],[1,436,70,38],[1,446,70,48,"token"],[1,453,73,10,"setUser"],[1,455,73,18,"JSON"],[1,460,73,23,"parse"],[1,466,73,29,"userData"],[1,469,74,8],[1,470,74,10],[1,476,74,17,"err"],[1,479,76,10,"console"],[1,487,76,18,"log"],[1,491,76,22],[1,532,77,16,"storage"],[1,534,77,24,"removeItem"],[1,545,77,35],[1,565,78,16,"storage"],[1,567,78,24,"removeItem"],[1,578,78,35],[1,591,79,10,"setUser"],[1,593,79,18],[1,598,80,8],[1,599,82,4],[1,600,82,6],[1,606,82,13,"error"],[1,609,83,6,"console"],[1,617,83,14,"error"],[1,623,83,20],[1,646,83,44,"error"],[1,648,84,4],[1,649,84,5],[1,657,85,6,"setIsLoading"],[1,660,85,19],[1,662,86,4],[1,665,148,2],[1,672,149,4],[1,674,149,4,"_reactJsxRuntime"],[1,676,149,4,"jsx"],[1,681,149,5,"AuthContext"],[1,683,149,17,"Provider"],[1,692,149,25],[1,693,149,26,"value"],[1,699,149,33],[1,700,150,6,"user"],[1,707,151,6,"isLoading"],[1,719,152,6,"isAuthenticated"],[1,737,152,25,"user"],[1,739,153,6,"login"],[1,745,89,16,"async"],[1,751,89,23,"email"],[1,753,89,38,"password"],[1,758,90,4],[1,762,91,6],[1,768,91,12,"response"],[1,776,91,29,"axios"],[1,778,91,34,"default"],[1,786,91,35,"post"],[1,791,91,40],[1,794,91,43,"API_URL"],[1,813,91,69],[1,814,92,8,"email"],[1,820,92,15,"email"],[1,822,92,21,"toLowerCase"],[1,836,92,35,"trim"],[1,843,93,8,"password"],[1,856,96,6],[1,863,96,10,"response"],[1,865,96,19,"data"],[1,870,96,24,"success"],[1,885,97,14,"storage"],[1,887,97,22,"setItem"],[1,895,97,30],[1,908,97,44,"response"],[1,910,97,53,"data"],[1,915,97,58,"token"],[1,928,98,14,"storage"],[1,930,98,22,"setItem"],[1,938,98,30],[1,950,98,43,"JSON"],[1,955,98,48,"stringify"],[1,965,98,58,"response"],[1,967,98,67,"data"],[1,972,98,72,"user"],[1,979,99,8,"setUser"],[1,981,99,16,"response"],[1,983,99,25,"data"],[1,988,99,30,"user"],[1,994,100,15],[1,995,100,17,"success"],[1,1004,100,26],[1,1008,102,15],[1,1009,102,17,"success"],[1,1018,102,26],[1,1020,102,33,"error"],[1,1026,102,40,"response"],[1,1028,102,49,"data"],[1,1033,102,54,"error"],[1,1040,102,63],[1,1062,104,4],[1,1063,104,6],[1,1069,104,13,"error"],[1,1072,107,6],[1,1079,105,6,"console"],[1,1087,105,14,"error"],[1,1093,105,20],[1,1108,105,36,"error"],[1,1111,107,13],[1,1112,107,15,"success"],[1,1121,107,24],[1,1123,107,31,"error"],[1,1129,106,22,"error"],[1,1131,106,28,"response"],[1,1141,106,38,"data"],[1,1147,106,44,"detail"],[1,1155,106,54,"error"],[1,1157,106,60,"response"],[1,1167,106,70,"data"],[1,1173,106,76,"error"],[1,1180,106,85],[1,1214,108,4],[1,1217,154,6,"register"],[1,1226,111,19,"async"],[1,1232,111,26,"name"],[1,1234,111,40,"email"],[1,1236,111,55,"password"],[1,1241,112,4],[1,1245,113,6],[1,1251,113,12,"response"],[1,1259,113,29,"axios"],[1,1261,113,34,"default"],[1,1269,113,35,"post"],[1,1274,113,40],[1,1277,113,43,"API_URL"],[1,1299,113,72],[1,1300,114,8,"name"],[1,1305,114,14,"name"],[1,1307,114,19,"trim"],[1,1314,115,8,"email"],[1,1320,115,15,"email"],[1,1322,115,21,"toLowerCase"],[1,1336,115,35,"trim"],[1,1343,116,8,"password"],[1,1356,119,6],[1,1363,119,10,"response"],[1,1365,119,19,"data"],[1,1370,119,24,"success"],[1,1385,120,14,"storage"],[1,1387,120,22,"setItem"],[1,1395,120,30],[1,1408,120,44,"response"],[1,1410,120,53,"data"],[1,1415,120,58,"token"],[1,1428,121,14,"storage"],[1,1430,121,22,"setItem"],[1,1438,121,30],[1,1450,121,43,"JSON"],[1,1455,121,48,"stringify"],[1,1465,121,58,"response"],[1,1467,121,67,"data"],[1,1472,121,72,"user"],[1,1479,122,8,"setUser"],[1,1481,122,16,"response"],[1,1483,122,25,"data"],[1,1488,122,30,"user"],[1,1494,123,15],[1,1495,123,17,"success"],[1,1504,123,26],[1,1508,125,15],[1,1509,125,17,"success"],[1,1518,125,26],[1,1520,125,33,"error"],[1,1526,125,40,"response"],[1,1528,125,49,"data"],[1,1533,125,54,"error"],[1,1540,125,63],[1,1564,127,4],[1,1565,127,6],[1,1571,127,13,"error"],[1,1574,130,6],[1,1581,128,6,"console"],[1,1589,128,14,"error"],[1,1595,128,20],[1,1613,128,39,"error"],[1,1616,130,13],[1,1617,130,15,"success"],[1,1626,130,24],[1,1628,130,31,"error"],[1,1634,129,22,"error"],[1,1636,129,28,"response"],[1,1646,129,38,"data"],[1,1652,129,44,"detail"],[1,1660,129,54,"error"],[1,1662,129,60,"response"],[1,1672,129,70,"data"],[1,1678,129,76,"error"],[1,1685,129,85],[1,1709,131,4],[1,1712,155,6,"logout"],[1,1719,134,17,"async"],[1,1729,135,4],[1,1739,136,12,"storage"],[1,1741,136,20,"removeItem"],[1,1752,136,31],[1,1772,137,12,"storage"],[1,1774,137,20,"removeItem"],[1,1785,137,31],[1,1798,138,6,"setUser"],[1,1800,138,14],[1,1805,139,4],[1,1806,139,6],[1,1812,139,13,"error"],[1,1815,140,6,"console"],[1,1823,140,14,"error"],[1,1829,140,20],[1,1845,140,37,"error"],[1,1847,141,4],[1,1850,156,6,"getToken"],[1,1859,144,19,"async"],[1,1874,145,17,"storage"],[1,1876,145,25,"getItem"],[1,1884,145,33],[1,1899,157,6,"children"],[1,1908,158,7,"children"],[1,1911,161,0],[1,1913,163,0,"_e"],[1,1916,163,0,"useAuth"],[1,1924,163,7],[1,1935,164,2],[1,1941,164,8,"context"],[1,1944,164,18],[1,1946,164,18,"useContext"],[1,1948,164,28,"useContext"],[1,1960,164,29,"AuthContext"],[1,1963,165,2],[1,1971,165,18,"undefined"],[1,1975,165,6,"context"],[1,1977,166,4],[1,1983,166,10],[1,1987,166,14,"Error"],[1,1993,166,20],[1,2040,168,2],[1,2047,168,9,"context"],[1,2048,169,0],[1,2050,1,0],[1,2054,1,0,"_react"],[1,2056,1,0,"r"],[1,2058,1,0,"d"],[1,2060,1,0],[1,2064,3,0,"axios"],[1,2067,2,0,"_interopDefault"],[1,2069,2,0,"r"],[1,2071,2,0,"d"],[1,2073,2,0],[1,2078,3,0,"_interopDefault"],[1,2080,3,0,"r"],[1,2082,3,0,"d"],[1,2084,3,0],[1,2090,3,26,"r"],[1,2092,3,26,"d"],[1,2094,3,26],[1,2102,3,26,"_reactJsxRuntime"],[1,2104,3,26,"r"],[1,2106,3,26,"d"],[1,2108,3,26],[1,2112,6,0],[1,2118,6,6,"API_URL"],[1,2120,6,13],[1,2170,27,6,"AuthContext"],[1,2173,27,20],[1,2175,27,20,"createContext"],[1,2177,27,33,"createContext"],[1,2197,27,63,"undefined"],[1,2200,30,6,"storage"],[1,2202,30,16],[1,2203,31,2,"async"],[1,2211,31,15,"getItem"],[1,2217,31,16,"key"],[1,2220,33,13,"localStorage"],[1,2233,33,26,"getItem"],[1,2241,33,34,"key"],[1,2244,37,2],[1,2257,37,8,"setItem"],[1,2258,37,16,"key"],[1,2260,37,29,"value"],[1,2263,39,6,"localStorage"],[1,2276,39,19,"setItem"],[1,2284,39,27,"key"],[1,2286,39,32,"value"],[1,2288,43,2],[1,2290,44,2],[1,2306,44,8,"removeItem"],[1,2307,44,19,"key"],[1,2310,46,6,"localStorage"],[1,2323,46,19,"removeItem"],[1,2334,46,30,"key"],[1,2336,50,2],[1,2338,169,1],[1,2341]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.removeItem","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","getToken","useAuth"],"mappings":"AAA;EC8B;GDK;EEC;GFM;EGC;GHM;OIG;YCI;GDE;oBEE;GF0B;gBGE;GHoB;mBIE;GJqB;iBKE;GLQ;mBME;GNE;CJe;OWE;CXM"},"hasCjsExports":false},"type":"js/module"}]}