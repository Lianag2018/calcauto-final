{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function({children:e}){const[l,h]=(0,t.useState)(null),[p,w]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await c.getItem('auth_token'),t=await c.getItem('user_data');e&&t&&h(JSON.parse(t))}catch(e){console.error('Error checking auth:',e)}finally{w(!1)}};return(0,o.jsx)(u.Provider,{value:{user:l,isLoading:p,isAuthenticated:!!l,login:async(e,t)=>{try{const o=await s.default.post(`${n}/api/auth/login`,{email:e.toLowerCase().trim(),password:t});return o.data.success?(await c.setItem('auth_token',o.data.token),await c.setItem('user_data',JSON.stringify(o.data.user)),h(o.data.user),{success:!0}):{success:!1,error:o.data.error||'Erreur de connexion'}}catch(e){return console.error('Login error:',e),{success:!1,error:e.response?.data?.detail||e.response?.data?.error||'Email ou mot de passe incorrect'}}},register:async(e,t,o)=>{try{const u=await s.default.post(`${n}/api/auth/register`,{name:e.trim(),email:t.toLowerCase().trim(),password:o});return u.data.success?(await c.setItem('auth_token',u.data.token),await c.setItem('user_data',JSON.stringify(u.data.user)),h(u.data.user),{success:!0}):{success:!1,error:u.data.error||'Erreur d\\'inscription'}}catch(e){return console.error('Register error:',e),{success:!1,error:e.response?.data?.detail||e.response?.data?.error||'Erreur d\\'inscription'}}},logout:async()=>{try{await c.removeItem('auth_token'),await c.removeItem('user_data'),h(null)}catch(e){console.error('Logout error:',e)}}},children:e})},_e.useAuth=function(){const e=(0,t.useContext)(u);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var t=r(d[0]),s=(e(r(d[1])),e(r(d[2])));r(d[3]);var o=r(d[4]);const n=\"https://auto-loan-pro.preview.emergentagent.com\",u=(0,t.createContext)(void 0),c={getItem:async e=>localStorage.getItem(e),async setItem(e,t){localStorage.setItem(e,t)},async removeItem(e){localStorage.removeItem(e)}}});","lineCount":1,"map":[[1,143,49,0,"_e"],[1,146,49,0,"AuthProvider"],[1,159,49,7],[1,169,49,29,"children"],[1,178,49,31,"children"],[1,182,50,2],[1,188,50,9,"user"],[1,190,50,15,"setUser"],[1,194,50,26],[1,196,50,26,"useState"],[1,198,50,34,"useState"],[1,208,50,48],[1,215,51,9,"isLoading"],[1,217,51,20,"setIsLoading"],[1,221,51,36],[1,223,51,36,"useState"],[1,225,51,44,"useState"],[1,236,51,45],[1,240,53,2],[1,242,53,2,"useEffect"],[1,244,53,11,"useEffect"],[1,255,53,12],[1,260,54,4,"checkAuth"],[1,265,55,5],[1,269,57,2],[1,275,57,8,"checkAuth"],[1,277,57,20,"async"],[1,287,58,4],[1,291,59,6],[1,297,59,12,"token"],[1,305,59,26,"storage"],[1,307,59,34,"getItem"],[1,315,59,42],[1,329,60,12,"userData"],[1,337,60,29,"storage"],[1,339,60,37,"getItem"],[1,347,60,45],[1,360,62,10,"token"],[1,363,62,19,"userData"],[1,366,63,8,"setUser"],[1,368,63,16,"JSON"],[1,373,63,21,"parse"],[1,379,63,27,"userData"],[1,382,65,4],[1,383,65,6],[1,389,65,13,"error"],[1,392,66,6,"console"],[1,400,66,14,"error"],[1,406,66,20],[1,429,66,44,"error"],[1,431,67,4],[1,432,67,5],[1,440,68,6,"setIsLoading"],[1,443,68,19],[1,445,69,4],[1,448,127,2],[1,455,128,4],[1,457,128,4,"_reactJsxRuntime"],[1,459,128,4,"jsx"],[1,464,128,5,"AuthContext"],[1,466,128,17,"Provider"],[1,475,128,25],[1,476,128,26,"value"],[1,482,128,33],[1,483,129,6,"user"],[1,490,130,6,"isLoading"],[1,502,131,6,"isAuthenticated"],[1,520,131,25,"user"],[1,522,132,6,"login"],[1,528,72,16,"async"],[1,534,72,23,"email"],[1,536,72,38,"password"],[1,541,73,4],[1,545,74,6],[1,551,74,12,"response"],[1,559,74,29,"axios"],[1,561,74,34,"default"],[1,569,74,35,"post"],[1,574,74,40],[1,577,74,43,"API_URL"],[1,596,74,69],[1,597,75,8,"email"],[1,603,75,15,"email"],[1,605,75,21,"toLowerCase"],[1,619,75,35,"trim"],[1,626,76,8,"password"],[1,639,79,6],[1,646,79,10,"response"],[1,648,79,19,"data"],[1,653,79,24,"success"],[1,668,80,14,"storage"],[1,670,80,22,"setItem"],[1,678,80,30],[1,691,80,44,"response"],[1,693,80,53,"data"],[1,698,80,58,"token"],[1,711,81,14,"storage"],[1,713,81,22,"setItem"],[1,721,81,30],[1,733,81,43,"JSON"],[1,738,81,48,"stringify"],[1,748,81,58,"response"],[1,750,81,67,"data"],[1,755,81,72,"user"],[1,762,82,8,"setUser"],[1,764,82,16,"response"],[1,766,82,25,"data"],[1,771,82,30,"user"],[1,777,83,15],[1,778,83,17,"success"],[1,787,83,26],[1,791,85,15],[1,792,85,17,"success"],[1,801,85,26],[1,803,85,33,"error"],[1,809,85,40,"response"],[1,811,85,49,"data"],[1,816,85,54,"error"],[1,823,85,63],[1,845,87,4],[1,846,87,6],[1,852,87,13,"error"],[1,855,90,6],[1,862,88,6,"console"],[1,870,88,14,"error"],[1,876,88,20],[1,891,88,36,"error"],[1,894,90,13],[1,895,90,15,"success"],[1,904,90,24],[1,906,90,31,"error"],[1,912,89,22,"error"],[1,914,89,28,"response"],[1,924,89,38,"data"],[1,930,89,44,"detail"],[1,938,89,54,"error"],[1,940,89,60,"response"],[1,950,89,70,"data"],[1,956,89,76,"error"],[1,963,89,85],[1,997,91,4],[1,1000,133,6,"register"],[1,1009,94,19,"async"],[1,1015,94,26,"name"],[1,1017,94,40,"email"],[1,1019,94,55,"password"],[1,1024,95,4],[1,1028,96,6],[1,1034,96,12,"response"],[1,1042,96,29,"axios"],[1,1044,96,34,"default"],[1,1052,96,35,"post"],[1,1057,96,40],[1,1060,96,43,"API_URL"],[1,1082,96,72],[1,1083,97,8,"name"],[1,1088,97,14,"name"],[1,1090,97,19,"trim"],[1,1097,98,8,"email"],[1,1103,98,15,"email"],[1,1105,98,21,"toLowerCase"],[1,1119,98,35,"trim"],[1,1126,99,8,"password"],[1,1139,102,6],[1,1146,102,10,"response"],[1,1148,102,19,"data"],[1,1153,102,24,"success"],[1,1168,103,14,"storage"],[1,1170,103,22,"setItem"],[1,1178,103,30],[1,1191,103,44,"response"],[1,1193,103,53,"data"],[1,1198,103,58,"token"],[1,1211,104,14,"storage"],[1,1213,104,22,"setItem"],[1,1221,104,30],[1,1233,104,43,"JSON"],[1,1238,104,48,"stringify"],[1,1248,104,58,"response"],[1,1250,104,67,"data"],[1,1255,104,72,"user"],[1,1262,105,8,"setUser"],[1,1264,105,16,"response"],[1,1266,105,25,"data"],[1,1271,105,30,"user"],[1,1277,106,15],[1,1278,106,17,"success"],[1,1287,106,26],[1,1291,108,15],[1,1292,108,17,"success"],[1,1301,108,26],[1,1303,108,33,"error"],[1,1309,108,40,"response"],[1,1311,108,49,"data"],[1,1316,108,54,"error"],[1,1323,108,63],[1,1347,110,4],[1,1348,110,6],[1,1354,110,13,"error"],[1,1357,113,6],[1,1364,111,6,"console"],[1,1372,111,14,"error"],[1,1378,111,20],[1,1396,111,39,"error"],[1,1399,113,13],[1,1400,113,15,"success"],[1,1409,113,24],[1,1411,113,31,"error"],[1,1417,112,22,"error"],[1,1419,112,28,"response"],[1,1429,112,38,"data"],[1,1435,112,44,"detail"],[1,1443,112,54,"error"],[1,1445,112,60,"response"],[1,1455,112,70,"data"],[1,1461,112,76,"error"],[1,1468,112,85],[1,1492,114,4],[1,1495,134,6,"logout"],[1,1502,117,17,"async"],[1,1512,118,4],[1,1522,119,12,"storage"],[1,1524,119,20,"removeItem"],[1,1535,119,31],[1,1555,120,12,"storage"],[1,1557,120,20,"removeItem"],[1,1568,120,31],[1,1581,121,6,"setUser"],[1,1583,121,14],[1,1588,122,4],[1,1589,122,6],[1,1595,122,13,"error"],[1,1598,123,6,"console"],[1,1606,123,14,"error"],[1,1612,123,20],[1,1628,123,37,"error"],[1,1630,124,4],[1,1634,135,6,"children"],[1,1643,136,7,"children"],[1,1646,139,0],[1,1648,141,0,"_e"],[1,1651,141,0,"useAuth"],[1,1659,141,7],[1,1670,142,2],[1,1676,142,8,"context"],[1,1679,142,18],[1,1681,142,18,"useContext"],[1,1683,142,28,"useContext"],[1,1695,142,29,"AuthContext"],[1,1698,143,2],[1,1706,143,18,"undefined"],[1,1710,143,6,"context"],[1,1712,144,4],[1,1718,144,10],[1,1722,144,14,"Error"],[1,1728,144,20],[1,1775,146,2],[1,1782,146,9,"context"],[1,1783,147,0],[1,1785,1,0],[1,1789,1,0,"_react"],[1,1791,1,0,"r"],[1,1793,1,0,"d"],[1,1795,1,0],[1,1799,3,0,"axios"],[1,1802,2,0,"_interopDefault"],[1,1804,2,0,"r"],[1,1806,2,0,"d"],[1,1808,2,0],[1,1813,3,0,"_interopDefault"],[1,1815,3,0,"r"],[1,1817,3,0,"d"],[1,1819,3,0],[1,1825,3,26,"r"],[1,1827,3,26,"d"],[1,1829,3,26],[1,1837,3,26,"_reactJsxRuntime"],[1,1839,3,26,"r"],[1,1841,3,26,"d"],[1,1843,3,26],[1,1847,6,0],[1,1853,6,6,"API_URL"],[1,1855,6,13],[1,1905,23,6,"AuthContext"],[1,1908,23,20],[1,1910,23,20,"createContext"],[1,1912,23,33,"createContext"],[1,1932,23,63,"undefined"],[1,1935,26,6,"storage"],[1,1937,26,16],[1,1938,27,2,"async"],[1,1946,27,15,"getItem"],[1,1952,27,16,"key"],[1,1955,29,13,"localStorage"],[1,1968,29,26,"getItem"],[1,1976,29,34,"key"],[1,1979,33,2],[1,1992,33,8,"setItem"],[1,1993,33,16,"key"],[1,1995,33,29,"value"],[1,1998,35,6,"localStorage"],[1,2011,35,19,"setItem"],[1,2019,35,27,"key"],[1,2021,35,32,"value"],[1,2023,39,2],[1,2025,40,2],[1,2041,40,8,"removeItem"],[1,2042,40,19,"key"],[1,2045,42,6,"localStorage"],[1,2058,42,19,"removeItem"],[1,2069,42,30,"key"],[1,2071,46,2],[1,2073,147,1],[1,2076]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.removeItem","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;EC0B;GDK;EEC;GFM;EGC;GHM;OIG;YCI;GDE;oBEE;GFa;gBGE;GHoB;mBIE;GJqB;iBKE;GLQ;CJc;OUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}